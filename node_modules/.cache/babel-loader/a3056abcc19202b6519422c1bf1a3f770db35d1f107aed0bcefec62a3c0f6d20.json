{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useCartLogic.js\n\nimport { useState, useEffect } from 'react';\nexport default function useCart(showToast) {\n  _s();\n  const [cart, setCart] = useState([]);\n  const [qty, setQty] = useState({});\n\n  // Load cart and qty from localStorage on first mount\n  useEffect(() => {\n    const storedCart = JSON.parse(localStorage.getItem(\"cart\") || \"[]\");\n    setCart(storedCart);\n    setQty({}); // âŒ Do not restore qty\n  }, []);\n\n  // Save to localStorage when cart or qty changes\n  useEffect(() => {\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    localStorage.setItem(\"qty\", JSON.stringify(qty));\n  }, [cart, qty]);\n\n  // Add product to cart\n  const handleAdd = item => {\n    if (!cart.some(i => i.name === item.name)) {\n      setCart([...cart, item]);\n    } else {\n      showToast(\"ðŸ›’ Already in cart\");\n    }\n  };\n\n  // Remove product from cart\n  const handleRemove = itemName => {\n    const newCart = cart.filter(i => i.name !== itemName);\n    const newQty = {\n      ...qty\n    };\n    delete newQty[itemName];\n    setCart(newCart);\n    setQty(newQty);\n    showToast(\"âŒ Removed from order\");\n  };\n\n  // Update quantity for product\n  const handleQty = (itemName, value) => {\n    const numeric = parseInt(value, 10);\n    if (!isNaN(numeric) && numeric > 0) {\n      setQty({\n        ...qty,\n        [itemName]: numeric\n      });\n    } else {\n      showToast(\"âš ï¸ Enter valid quantity\");\n    }\n  };\n\n  // Local submit: for testing purpose\n  const handleSubmit = () => {\n    const hasQty = cart.some(item => (qty[item.name] || 0) > 0);\n    if (!hasQty) {\n      showToast(\"âš ï¸ Please enter quantity\");\n      return;\n    }\n    const orderSummary = cart.map(item => ({\n      item: item.name,\n      qty: qty[item.name] || 0\n    }));\n    console.log(\"ðŸ›’ Final Order:\", orderSummary);\n    showToast(\"âœ… Order submitted (local only)\");\n  };\n\n  // Reset cart completely\n  const resetCart = () => {\n    localStorage.removeItem(\"cart\");\n    localStorage.removeItem(\"qty\");\n    setCart([]);\n    setQty({});\n  };\n  return {\n    cart,\n    qty,\n    handleAdd,\n    handleRemove,\n    handleQty,\n    handleSubmit,\n    resetCart\n  };\n}\n_s(useCart, \"U6ex6kzm1pAo9p1xWtTab2hvtEI=\");","map":{"version":3,"names":["useState","useEffect","useCart","showToast","_s","cart","setCart","qty","setQty","storedCart","JSON","parse","localStorage","getItem","setItem","stringify","handleAdd","item","some","i","name","handleRemove","itemName","newCart","filter","newQty","handleQty","value","numeric","parseInt","isNaN","handleSubmit","hasQty","orderSummary","map","console","log","resetCart","removeItem"],"sources":["C:/Users/Jai Ayurved research/Documents/10april 17APR/src/hooks/useCartLogic.js"],"sourcesContent":["// src/hooks/useCartLogic.js\n\nimport { useState, useEffect } from 'react';\n\nexport default function useCart(showToast) {\n  const [cart, setCart] = useState([]);\n  const [qty, setQty] = useState({});\n\n  // Load cart and qty from localStorage on first mount\n  \tuseEffect(() => {\n  \tconst storedCart = JSON.parse(localStorage.getItem(\"cart\") || \"[]\");\n  \tsetCart(storedCart);\n  \tsetQty({});  // âŒ Do not restore qty\n   }, []);\n\n\n  // Save to localStorage when cart or qty changes\n  useEffect(() => {\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    localStorage.setItem(\"qty\", JSON.stringify(qty));\n  }, [cart, qty]);\n\n  // Add product to cart\n  const handleAdd = (item) => {\n    if (!cart.some(i => i.name === item.name)) {\n      setCart([...cart, item]);\n      \n    } else {\n      showToast(\"ðŸ›’ Already in cart\");\n    }\n  };\n\n  // Remove product from cart\n  const handleRemove = (itemName) => {\n    const newCart = cart.filter(i => i.name !== itemName);\n    const newQty = { ...qty };\n    delete newQty[itemName];\n    setCart(newCart);\n    setQty(newQty);\n    showToast(\"âŒ Removed from order\");\n  };\n\n  // Update quantity for product\n  const handleQty = (itemName, value) => {\n    const numeric = parseInt(value, 10);\n    if (!isNaN(numeric) && numeric > 0) {\n      setQty({ ...qty, [itemName]: numeric });\n    } else {\n      showToast(\"âš ï¸ Enter valid quantity\");\n    }\n  };\n\n  // Local submit: for testing purpose\n  const handleSubmit = () => {\n    const hasQty = cart.some(item => (qty[item.name] || 0) > 0);\n    if (!hasQty) {\n      showToast(\"âš ï¸ Please enter quantity\");\n      return;\n    }\n\n    const orderSummary = cart.map((item) => ({\n      item: item.name,\n      qty: qty[item.name] || 0,\n    }));\n\n    console.log(\"ðŸ›’ Final Order:\", orderSummary);\n    showToast(\"âœ… Order submitted (local only)\");\n  };\n\n  // Reset cart completely\n  const resetCart = () => {\n    localStorage.removeItem(\"cart\");\n    localStorage.removeItem(\"qty\");\n    setCart([]);\n    setQty({});\n  };\n\n  return {\n    cart,\n    qty,\n    handleAdd,\n    handleRemove,\n    handleQty,\n    handleSubmit,\n    resetCart,\n  };\n}\n"],"mappings":";AAAA;;AAEA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,eAAe,SAASC,OAAOA,CAACC,SAAS,EAAE;EAAAC,EAAA;EACzC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACO,GAAG,EAAEC,MAAM,CAAC,GAAGR,QAAQ,CAAC,CAAC,CAAC,CAAC;;EAElC;EACCC,SAAS,CAAC,MAAM;IAChB,MAAMQ,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;IACnEP,OAAO,CAACG,UAAU,CAAC;IACnBD,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAE;EACb,CAAC,EAAE,EAAE,CAAC;;EAGP;EACAP,SAAS,CAAC,MAAM;IACdW,YAAY,CAACE,OAAO,CAAC,MAAM,EAAEJ,IAAI,CAACK,SAAS,CAACV,IAAI,CAAC,CAAC;IAClDO,YAAY,CAACE,OAAO,CAAC,KAAK,EAAEJ,IAAI,CAACK,SAAS,CAACR,GAAG,CAAC,CAAC;EAClD,CAAC,EAAE,CAACF,IAAI,EAAEE,GAAG,CAAC,CAAC;;EAEf;EACA,MAAMS,SAAS,GAAIC,IAAI,IAAK;IAC1B,IAAI,CAACZ,IAAI,CAACa,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAKH,IAAI,CAACG,IAAI,CAAC,EAAE;MACzCd,OAAO,CAAC,CAAC,GAAGD,IAAI,EAAEY,IAAI,CAAC,CAAC;IAE1B,CAAC,MAAM;MACLd,SAAS,CAAC,oBAAoB,CAAC;IACjC;EACF,CAAC;;EAED;EACA,MAAMkB,YAAY,GAAIC,QAAQ,IAAK;IACjC,MAAMC,OAAO,GAAGlB,IAAI,CAACmB,MAAM,CAACL,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAKE,QAAQ,CAAC;IACrD,MAAMG,MAAM,GAAG;MAAE,GAAGlB;IAAI,CAAC;IACzB,OAAOkB,MAAM,CAACH,QAAQ,CAAC;IACvBhB,OAAO,CAACiB,OAAO,CAAC;IAChBf,MAAM,CAACiB,MAAM,CAAC;IACdtB,SAAS,CAAC,sBAAsB,CAAC;EACnC,CAAC;;EAED;EACA,MAAMuB,SAAS,GAAGA,CAACJ,QAAQ,EAAEK,KAAK,KAAK;IACrC,MAAMC,OAAO,GAAGC,QAAQ,CAACF,KAAK,EAAE,EAAE,CAAC;IACnC,IAAI,CAACG,KAAK,CAACF,OAAO,CAAC,IAAIA,OAAO,GAAG,CAAC,EAAE;MAClCpB,MAAM,CAAC;QAAE,GAAGD,GAAG;QAAE,CAACe,QAAQ,GAAGM;MAAQ,CAAC,CAAC;IACzC,CAAC,MAAM;MACLzB,SAAS,CAAC,yBAAyB,CAAC;IACtC;EACF,CAAC;;EAED;EACA,MAAM4B,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAMC,MAAM,GAAG3B,IAAI,CAACa,IAAI,CAACD,IAAI,IAAI,CAACV,GAAG,CAACU,IAAI,CAACG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC3D,IAAI,CAACY,MAAM,EAAE;MACX7B,SAAS,CAAC,0BAA0B,CAAC;MACrC;IACF;IAEA,MAAM8B,YAAY,GAAG5B,IAAI,CAAC6B,GAAG,CAAEjB,IAAI,KAAM;MACvCA,IAAI,EAAEA,IAAI,CAACG,IAAI;MACfb,GAAG,EAAEA,GAAG,CAACU,IAAI,CAACG,IAAI,CAAC,IAAI;IACzB,CAAC,CAAC,CAAC;IAEHe,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEH,YAAY,CAAC;IAC5C9B,SAAS,CAAC,gCAAgC,CAAC;EAC7C,CAAC;;EAED;EACA,MAAMkC,SAAS,GAAGA,CAAA,KAAM;IACtBzB,YAAY,CAAC0B,UAAU,CAAC,MAAM,CAAC;IAC/B1B,YAAY,CAAC0B,UAAU,CAAC,KAAK,CAAC;IAC9BhC,OAAO,CAAC,EAAE,CAAC;IACXE,MAAM,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC;EAED,OAAO;IACLH,IAAI;IACJE,GAAG;IACHS,SAAS;IACTK,YAAY;IACZK,SAAS;IACTK,YAAY;IACZM;EACF,CAAC;AACH;AAACjC,EAAA,CAlFuBF,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}